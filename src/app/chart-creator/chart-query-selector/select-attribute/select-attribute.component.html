<div class="simple segment">
  <div class="ui fluid selection dropdown">
        {{selectedField === null ? 'Select Entity Field' : selectedField}}<i class="dropdown icon"></i>
    
    <div class="menu">
    <div class="ui item">
    <div class="mat-app-background basic-container">

      <mat-tree [dataSource]="nestedEntityDataSource" [treeControl]="nestedEntityTreeControl" class="data-tree" >

        <mat-nested-tree-node *matTreeNodeDef="let node; when: hasNestedChild">
          <li>
          <div class="mat-tree-node">
            <button type="button" id="data-tree-button" class="ui compact icon button" 
                mat-icon-button matTreeNodeToggle 
                [attr.aria-label]="'toggle ' + node.name"
                (click)="onExpanded(node)">
              <mat-icon class="mat-icon-rtl-mirror">
                {{nestedEntityTreeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
              </mat-icon>
            </button>
            {{node.name | titlecase}}
          </div>
          </li>

          <ul [class.data-tree-invisible]="!nestedEntityTreeControl.isExpanded(node)">
            <li *ngFor="let field of node.fields">
              <div class="mat-tree-node" >
                <span (click)="nodeSelected(field)" style="cursor: pointer;">{{field.name | titlecase}}</span>
              </div>
            </li>

            <ng-container matTreeNodeOutlet></ng-container>
          </ul>

        </mat-nested-tree-node>
      </mat-tree>

    </div>
    </div>
    </div>
  </div>
</div>