<!-- <div class="simple segment">
  <div class="required field">
    <input value={{selectedField}} readonly>
  </div>

  <span class="ui horizontal pointing up divider"></span>
  <div class="ui item">

    <div class="ui two column relaxed unstackable grid container">
      <div class="column">
        <h4 class="ui dividing header">Relations</h4>
        <tree-root [nodes]="availableEntityFields" [options]="treeOptions"
        (toggleExpanded)="onExpanded($event)" (activate)="nodeActivated($event)"></tree-root>
      </div>
      <div class="column">
        <h4 class="ui dividing header">Fields</h4>
        <tree-root *ngIf="treeFields" [nodes]="treeFields" [options]="fieldsOptions" (activate)="nodeSelected($event)"></tree-root>
      </div>
      
    </div>  
  </div>
</div> -->

<div class="simple segment">
  <div class="required field">
    <input value={{selectedField}} readonly>
  </div>

  <span class="ui horizontal divider"></span>
  <div class="ui item">
  <div class="mat-app-background basic-container">

      <mat-tree [dataSource]="nestedEntityDataSource" [treeControl]="nestedEntityTreeControl" class="data-tree" >

          <mat-nested-tree-node *matTreeNodeDef="let node; when: hasNestedChild">
            <li>
            <div class="mat-tree-node">
              <button type="button" id="data-tree-button" class="ui compact icon button" 
                  mat-icon-button matTreeNodeToggle 
                  [attr.aria-label]="'toggle ' + node.name"
                  (click)="onExpanded(node)">
                <mat-icon class="mat-icon-rtl-mirror">
                  {{nestedEntityTreeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
                </mat-icon>
              </button>
              {{node.name | titlecase}}
            </div>
            </li>

            <ul [class.data-tree-invisible]="!nestedEntityTreeControl.isExpanded(node)">
              <li *ngFor="let field of node.fields" class="mat-tree-node">
                <div class="mat-tree-node" >
                  <span (click)="nodeSelected(field)" style="cursor: pointer;">{{field.name | titlecase}}</span>
                </div>
              </li>

              <ng-container matTreeNodeOutlet></ng-container>
            </ul>

          </mat-nested-tree-node>
        </mat-tree>

  </div>
  </div>
</div>